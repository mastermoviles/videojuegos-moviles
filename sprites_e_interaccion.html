



<!doctype html>
<html lang="es" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
      
      
      
        <meta name="lang:clipboard.copy" content="Copiar al portapapeles">
      
        <meta name="lang:clipboard.copied" content="Copiado al portapapeles">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No se encontraron documentos">
      
        <meta name="lang:search.result.one" content="1 documento encontrado">
      
        <meta name="lang:search.result.other" content="# documentos encontrados">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.0.4, mkdocs-material-4.4.0">
    
    
      
        <title>_Sprites_ - Videojuegos para Dispositivos Móviles</title>
      
    
    
      <link rel="stylesheet" href="assets/stylesheets/application.0284f74d.css">
      
        <link rel="stylesheet" href="assets/stylesheets/application-palette.01803549.css">
      
      
        
        
        <meta name="theme-color" content="#3f51b5">
      
    
    
      <script src="assets/javascripts/modernizr.74668098.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="assets/fonts/material-icons.css">
    
    
    
      
    
    
  </head>
  
    
    
    <body dir="ltr" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    <svg class="md-svg">
      <defs>
        
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#sprites" tabindex="1" class="md-skip">
        Saltar a contenido
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="index.html" title="Videojuegos para Dispositivos Móviles" class="md-header-nav__button md-logo">
          
            <img src="imagenes/logo.png" width="24" height="24">
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            <span class="md-header-nav__topic">
              Videojuegos para Dispositivos Móviles
            </span>
            <span class="md-header-nav__topic">
              
                _Sprites_
              
            </span>
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
          
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Búsqueda" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Teclee para comenzar búsqueda
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="index.html" title="Videojuegos para Dispositivos Móviles" class="md-nav__button md-logo">
      
        <img src="imagenes/logo.png" width="48" height="48">
      
    </a>
    Videojuegos para Dispositivos Móviles
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="index.html" title="Presentación" class="md-nav__link">
      Presentación
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="videojuegos_para_moviles.html" title="Introducción a los videojuegos móviles" class="md-nav__link">
      Introducción a los videojuegos móviles
    </a>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3" checked>
    
    <label class="md-nav__link" for="nav-3">
      Fundamentos de los motores
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        Fundamentos de los motores
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="fundamentos-motores.html" title="Escena y nodos" class="md-nav__link">
      Escena y nodos
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="motor_de_fisicas.html" title="Físicas" class="md-nav__link">
      Físicas
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        _Sprites_
      </label>
    
    <a href="sprites_e_interaccion.html" title="_Sprites_" class="md-nav__link md-nav__link--active">
      _Sprites_
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Tabla de contenidos</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#fotogramas" title="Fotogramas" class="md-nav__link">
    Fotogramas
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#animaciones" title="Animaciones" class="md-nav__link">
    Animaciones
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#sprite-batch" title="Sprite batch" class="md-nav__link">
    Sprite batch
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#colisiones" title="Colisiones" class="md-nav__link">
    Colisiones
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="escenario_y_fondos.html" title="Fondo y _scroll_" class="md-nav__link">
      Fondo y _scroll_
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4">
    
    <label class="md-nav__link" for="nav-4">
      Motores para  móviles
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        Motores para  móviles
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="spritekit.html" title="SpriteKit" class="md-nav__link">
      SpriteKit
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="scenekit.html" title="SceneKit" class="md-nav__link">
      SceneKit
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="cocos2d-x.html" title="Cocos2d-x" class="md-nav__link">
      Cocos2d-x
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="unity.html" title="Unity" class="md-nav__link">
      Unity
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="box2d.html" title="Box2D" class="md-nav__link">
      Box2D
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="mandos.html" title="Controles del videojuego" class="md-nav__link">
      Controles del videojuego
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="adaptacion_a_moviles.html" title="Adaptación a diferentes dispositivos" class="md-nav__link">
      Adaptación a diferentes dispositivos
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="redes_sociales.html" title="Logros y marcadores" class="md-nav__link">
      Logros y marcadores
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Tabla de contenidos</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#fotogramas" title="Fotogramas" class="md-nav__link">
    Fotogramas
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#animaciones" title="Animaciones" class="md-nav__link">
    Animaciones
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#sprite-batch" title="Sprite batch" class="md-nav__link">
    Sprite batch
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#colisiones" title="Colisiones" class="md-nav__link">
    Colisiones
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                <h1 id="sprites">Sprites<a class="headerlink" href="#sprites" title="Permanent link">&para;</a></h1>
<p>En esta sesión vamos a ver un componente básico de los videojuegos: los <em>sprites</em>. Vamos a ver las herramientas y técnicas para tratar estos elementos de forma apropiada, cómo animarlos, moverlos por la pantalla y detectar colisiones entre ellos.</p>
<p>Los <em>sprites</em> hemos dicho que son todos aquellos objetos de la escena que se mueven y/o podemos interactuar con ellos de alguna forma. </p>
<p>Básicamente, un <em>sprite</em> se compone de:</p>
<ul>
<li>Su <strong>posición</strong> en la escena.</li>
<li>Una imagen o animación (por ejemplo el <em>ciclo de andar</em> de un personaje).</li>
</ul>
<p>La forma más básica de crear el <em>sprite</em> es a partir de una imagen estática, pero habitualmente utilizaremos un conjunto de fotogramas con los que componer diferentes animaciones del <em>sprite</em>.</p>
<h2 id="fotogramas">Fotogramas<a class="headerlink" href="#fotogramas" title="Permanent link">&para;</a></h2>
<p>Para animar un <em>sprite</em> deberemos definir los distintos fotogramas (o <em>frames</em>) de la animación. Podemos definir varias animaciones para cada <em>sprite</em>, según las acciones que pueda hacer. Por ejemplo, nuestro personaje puede tener una animación para andar  y otra para correr.</p>
<p>El <em>sprite</em> tendrá un determinado tamaño (ancho y alto), y cada fotograma será una imagen de este tamaño. Cambiando el fotograma que se muestra del <em>sprite</em> en cada momento podremos animarlo. Para ello deberemos tener imágenes para los distintos fotogramas del <em>sprite</em>.</p>
<p>Sin embargo, la memoria de vídeo es un recurso crítico, y debemos aprovechar al máximo el espacio de las texturas que se almacenan en ella. El tamaño de las texturas en memoria de video debe ser potencia de 2, lo cual en ocasiones nos obliga a dejar <em>zonas en blanco</em> en cada imagen. </p>
<p>Además, conviene evitar empaquetar con la aplicación un gran número de imágenes, ya que esto hará que el espacio que ocupen sea mayor, y que la carga de las mismas resulte más costosa.</p>
<p>Para almacenar los fotogramas de los <em>sprites</em> de forma óptima, utilizamos lo que se conoce como <em>sprite sheets</em>. Se trata de imágenes en las que incluyen de forma conjunta todos los fotogramas
de los <em>sprites</em>, dispuestos en forma de mosaico.</p>
<p><img alt="Mosaico con los frames de un sprite" src="imagenes/juegos/sprite.gif" /></p>
<p>Podemos crear estos <em>sprite sheets</em> de forma manual, aunque encontramos herramientas que nos facilitarán enórmemente este trabajo, como:</p>
<ul>
<li>
<p><strong>TexturePacker</strong> (http://www.texturepacker.com). Se trata de una herramienta muy completa, que cuenta con una versión básica gratuita,y opciones adicionales de pago. Además de organizar los <em>sprites</em> de forma óptima en el espacio de una textura OpenGL, nos permite optimizar el formato de la textura. Esta herramienta permite generar los <em>sprite sheets</em> en varios formatos reconocidos por los diferentes
motores de videojuegos, como por ejemplo Unity, SpriteKit, Cocos2d-x,y libgdx.</p>
<p><img alt="Herramienta TexturePacker" src="imagenes/juegos/texturas_packer.jpg" /></p>
</li>
<li>
<p><strong>FreeTexturePacker</strong> (http://free-tex-packer.com). Se trata de una buena alternativa <em>open source</em> a la aplicación anterior. </p>
</li>
<li>
<p><strong>Shoebox</strong> (https://renderhjs.net/shoebox/). Conjunto de herramientas gratuito desarrollado en Adobe Air, de ayuda para el desarrollo de videojuegos, entre las que se encuentra la generación de <em>sprite sheets</em>.</p>
</li>
</ul>
<p>Con estas herramientas simplemente tendremos que arrastrar sobre ellas el conjunto de imágenes con los distintos fotogramas de nuestros <em>sprites</em>, y nos generarán una textura optimizada para OpenGL con todos ellos dispuestos en forma de mosaico. Cuando almacenemos esta textura generada, normalmente se guardará un fichero
<code>.png</code> con la textura, y un fichero de metadatos que contendrá información sobre los distintos fotogramas que contiene la textura, y la región que ocupa cada uno de ellos.</p>
<p>Para poder utilizar los fotogramas añadidos a la textura deberemos contar con algún mecanismo que nos permita mostrar en pantalla de forma independiente cada región de la textura anterior (cada fotograma). En prácticamente todos los motores para videojuegos encontraremos mecanismos para hacer esto. El motor será capaz de leer el fichero de metadatos del <em>spritesheet</em>, y con esto nos permitirá utilizar cada fotograma (<em>frame</em>) de forma independiente, pero almacenándolos internamente en una única textura.</p>
<h2 id="animaciones">Animaciones<a class="headerlink" href="#animaciones" title="Permanent link">&para;</a></h2>
<p>Podremos definir determinadas secuencias de <em>frames</em> para crear animaciones. Cada animación se compondrá de:</p>
<ul>
<li>Secuencia de fotogramas (<em>frames</em>)</li>
<li>Periodicidad (tiempo que se tarde en cambiar de fotograma)</li>
</ul>
<p>Determinados motores nos darán facilidades para crear estas animaciones y aplicarlas sobre los <em>sprites</em>, de forma que se reproduzcan de forma automática.</p>
<h2 id="sprite-batch"><em>Sprite batch</em><a class="headerlink" href="#sprite-batch" title="Permanent link">&para;</a></h2>
<p>En OpenGL los <em>sprites</em> se dibujan realmente en un contexto 3D. Es decir, son texturas que se mapean sobre polígonos 3D (concretamente con una geometría rectángular). Muchas veces encontramos en pantalla varios <em>sprites</em> que utilizan la misma textura (o distintas regiones de la misma textura, como hemos visto en el caso de los <em>sprite sheets</em>). Podemos optimizar el dibujado de estos <em>sprites</em> 
generando la geometría de todos ellos de forma conjunta en una única operación con la GPU. Esto será posible sólo cuando el conjunto de <em>sprites</em> a dibujar estén contenidos en una misma textura. </p>
<p>Esto es lo que se conoce como un <em>sprite batch</em> (dibujamos un conjunto de <em>sprites</em> mediante una única operación). Algunos motores 2D nos permitirán utilizar esta característica para optimizar el dibujado.</p>
<h2 id="colisiones">Colisiones<a class="headerlink" href="#colisiones" title="Permanent link">&para;</a></h2>
<p>Otro aspecto importante de los <em>sprites</em> es la interacción entre ellos. Nos interesará saber cuándo somos tocados por un enemigo o una bala para disminuir la vida, o cuándo alcanzamos nosotros a nuestro enemigo. Para ello deberemos detectar las colisiones entre <em>sprites</em>. </p>
<p>La colisión con <em>sprites</em> de formas complejas puede resultar costosa de calcular. Por ello se suele realizar el cálculo de colisiones con una forma aproximada  de los <em>sprites</em> con la que esta operación resulte más sencilla. Para ello solemos utilizar el <em>bounding box</em>, es decir, un rectángulo que englobe el <em>sprite</em>. La intersección de  rectángulos es una operación muy sencilla. </p>
<blockquote>
<p>En algunos casos nos puede interesar modificar el tamaño del <em>bounding box</em> respecto al área que ocupa el <em>sprite</em> en pantalla. Por ejemplo, puede ser una buena práctica hacerlo más pequeño para evitar que cuando un enemigo "roce" una esquina del área del <em>sprite</em> nos mate, lo cual puede ser muy frustrante para el jugador. En algunos motores encontraremos de forma separada las propiedades <code>size</code> y <code>boundingBox</code> de los <em>sprites</em>.</p>
</blockquote>
                
                  
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="motor_de_fisicas.html" title="Físicas" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Anterior
                </span>
                Físicas
              </span>
            </div>
          </a>
        
        
          <a href="escenario_y_fondos.html" title="Fondo y _scroll_" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Siguiente
                </span>
                Fondo y _scroll_
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        powered by
        <a href="https://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="assets/javascripts/application.245445c6.js"></script>
      
      <script>app.initialize({version:"1.0.4",url:{base:"."}})</script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML"></script>
      
    
  </body>
</html>