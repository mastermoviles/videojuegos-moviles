


<!doctype html>
<html lang="es" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      <link rel="shortcut icon" href="assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-5.4.0">
    
    
      
        <title>Logros y marcadores - Videojuegos para Dispositivos Móviles</title>
      
    
    
      <link rel="stylesheet" href="assets/stylesheets/main.fe0cca5b.min.css">
      
        <link rel="stylesheet" href="assets/stylesheets/palette.a46bcfb3.min.css">
      
      
        
        
        <meta name="theme-color" content="#3f51b5">
      
    
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono",SFMono-Regular,Consolas,Menlo,monospace}</style>
      
    
    
    
    
      
    
    
  </head>
  
  
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#redes-sociales-para-videojuegos" class="md-skip">
          Saltar a contenido
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid" aria-label="Cabecera">
    <a href="." title="Videojuegos para Dispositivos Móviles" class="md-header-nav__button md-logo" aria-label="Videojuegos para Dispositivos Móviles">
      
  <img src="imagenes/logo.png" alt="logo">

    </a>
    <label class="md-header-nav__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header-nav__title" data-md-component="header-title">
      
        <div class="md-header-nav__ellipsis">
          <span class="md-header-nav__topic md-ellipsis">
            Videojuegos para Dispositivos Móviles
          </span>
          <span class="md-header-nav__topic md-ellipsis">
            
              Logros y marcadores
            
          </span>
        </div>
      
    </div>
    
      <label class="md-header-nav__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Búsqueda" placeholder="Búsqueda" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active">
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Limpiar" data-md-component="search-reset" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
        
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" aria-label="Navegación" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="." title="Videojuegos para Dispositivos Móviles" class="md-nav__button md-logo" aria-label="Videojuegos para Dispositivos Móviles">
      
  <img src="imagenes/logo.png" alt="logo">

    </a>
    Videojuegos para Dispositivos Móviles
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="index.html" title="Presentación" class="md-nav__link">
      Presentación
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="videojuegos_para_moviles.html" title="Introducción a los videojuegos móviles" class="md-nav__link">
      Introducción a los videojuegos móviles
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3">
    
    <label class="md-nav__link" for="nav-3">
      Fundamentos de los motores
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Fundamentos de los motores" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        Fundamentos de los motores
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="fundamentos-motores.html" title="Escena y nodos" class="md-nav__link">
      Escena y nodos
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="motor_de_fisicas.html" title="Físicas" class="md-nav__link">
      Físicas
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="sprites_e_interaccion.html" title="Sprites" class="md-nav__link">
      Sprites
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="escenario_y_fondos.html" title="Fondo y scroll" class="md-nav__link">
      Fondo y scroll
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4">
    
    <label class="md-nav__link" for="nav-4">
      Motores para  móviles
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Motores para  móviles" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        Motores para  móviles
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="spritekit.html" title="SpriteKit" class="md-nav__link">
      SpriteKit
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="scenekit.html" title="SceneKit" class="md-nav__link">
      SceneKit
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="cocos2d-x.html" title="Cocos2d-x" class="md-nav__link">
      Cocos2d-x
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="unity.html" title="Unity" class="md-nav__link">
      Unity
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="box2d.html" title="Box2D" class="md-nav__link">
      Box2D
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="mandos.html" title="Controles del videojuego" class="md-nav__link">
      Controles del videojuego
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="adaptacion_a_moviles.html" title="Adaptación a diferentes dispositivos" class="md-nav__link">
      Adaptación a diferentes dispositivos
    </a>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Logros y marcadores
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 9h14V7H3v2m0 4h14v-2H3v2m0 4h14v-2H3v2m16 0h2v-2h-2v2m0-10v2h2V7h-2m0 6h2v-2h-2v2z"/></svg>
        </span>
      </label>
    
    <a href="redes_sociales.html" title="Logros y marcadores" class="md-nav__link md-nav__link--active">
      Logros y marcadores
    </a>
    
      
<nav class="md-nav md-nav--secondary" aria-label="Tabla de contenidos">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </span>
      Tabla de contenidos
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#diseno-de-logros-y-marcadores" class="md-nav__link">
    Diseño de logros y marcadores
  </a>
  
    <nav class="md-nav" aria-label="Diseño de logros y marcadores">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#logros" class="md-nav__link">
    Logros
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#marcadores" class="md-nav__link">
    Marcadores
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configuracion-de-logros-y-marcadores" class="md-nav__link">
    Configuración de logros y marcadores
  </a>
  
    <nav class="md-nav" aria-label="Configuración de logros y marcadores">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#game-center" class="md-nav__link">
    Game Center
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#google-play-games" class="md-nav__link">
    Google Play Games
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#implementacion-de-logros-y-marcadores" class="md-nav__link">
    Implementación de logros y marcadores
  </a>
  
    <nav class="md-nav" aria-label="Implementación de logros y marcadores">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#logros-y-marcadores-con-gamekit" class="md-nav__link">
    Logros y marcadores con GameKit
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#logros-y-marcadores-con-gamesharing" class="md-nav__link">
    Logros y marcadores con GameSharing
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#referencias" class="md-nav__link">
    Referencias
  </a>
  
</li>
      
    </ul>
  
</nav>
    
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Tabla de contenidos">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </span>
      Tabla de contenidos
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#diseno-de-logros-y-marcadores" class="md-nav__link">
    Diseño de logros y marcadores
  </a>
  
    <nav class="md-nav" aria-label="Diseño de logros y marcadores">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#logros" class="md-nav__link">
    Logros
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#marcadores" class="md-nav__link">
    Marcadores
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configuracion-de-logros-y-marcadores" class="md-nav__link">
    Configuración de logros y marcadores
  </a>
  
    <nav class="md-nav" aria-label="Configuración de logros y marcadores">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#game-center" class="md-nav__link">
    Game Center
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#google-play-games" class="md-nav__link">
    Google Play Games
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#implementacion-de-logros-y-marcadores" class="md-nav__link">
    Implementación de logros y marcadores
  </a>
  
    <nav class="md-nav" aria-label="Implementación de logros y marcadores">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#logros-y-marcadores-con-gamekit" class="md-nav__link">
    Logros y marcadores con GameKit
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#logros-y-marcadores-con-gamesharing" class="md-nav__link">
    Logros y marcadores con GameSharing
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#referencias" class="md-nav__link">
    Referencias
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                  
                
                
                <h1 id="redes-sociales-para-videojuegos">Redes sociales para videojuegos<a class="headerlink" href="#redes-sociales-para-videojuegos" title="Permanent link">&para;</a></h1>
<p>Existen diferentes redes sociales específicas para videojuegos. Estas redes nos permiten ver por ejemplo a qué juegos están jugando nuestros amigos, y los <strong>logros</strong> y <strong>puntuaciones</strong> que han conseguido en ellos. También nos permitirán entrar en partidas multijugador con nuestros amigos o almacenar los datos de nuestra partida en la nube.</p>
<p>Normalmente estas redes están ligadas a la plataforma que utilizamos para jugar (<strong>Game Center</strong> para las plataformas de Apple: iOS, Mac, Apple TV; <strong>Xbox live</strong> para las plataformas de Microsoft: Xbox y Windows; <strong>PS Network</strong> para las plataformas de Sony: PS3, PS4, PS Vita; <strong>Steam</strong> en PC, Linux y Mac), pero también encontramos redes que podemos utilizar en diferentes plataformas (<strong>Google Play Games</strong>, además de Android, puede utilizarse en iOS o plataformas Web). También existen plataformas sociales para videojuegos ofrecidas por terceros (por ejemplo <em>Game Sparks</em>, <em>Playphone</em> o <em>OpenKit</em>), siendo la mayoría de ellos servicios de pago.</p>
<p>Vamos a ver cómo diseñar e implementar <strong>logros</strong> y <strong>marcadores</strong> con las principales redes sociales para juegos disponibles en las plataformas móviles.</p>
<h2 id="diseno-de-logros-y-marcadores">Diseño de logros y marcadores<a class="headerlink" href="#diseno-de-logros-y-marcadores" title="Permanent link">&para;</a></h2>
<h3 id="logros">Logros<a class="headerlink" href="#logros" title="Permanent link">&para;</a></h3>
<p>Los logros son recompensas que podremos obtener cumpliendo determinados retos dentro del juego. Cada logro tiene asociado un reto sobre algo que podemos realizar dentro del juego (por ejemplo, "Destruye 100 naves enemigas"). Una vez consigamos realizar el objetivo de este reto seremos recompensados con el logro. Normalmente veremos los logros conseguidos como medallas, y podremos ver también los logros obtenidos por otros jugadores y compararlos con los que hemos obtenido nosotros.</p>
<p><img alt="Medalla obtenido con un logro" src="imagenes/social/social_logro.png" /></p>
<p>Bien diseñados, los logros podrán hacer que los jugadores tengan más incentivos para jugar a nuestro juego.</p>
<h4>Datos de un logro</h4>
<p>Para cada logro deberemos proporcionar la siguiente información:</p>
<ul>
<li><strong>Título</strong>: Texto que se mostrará cuando el usuario consiga el logro. Normalmente se indicará el reto asociado o algo relacionado con él. Por ejemplo, podríamos indicar de forma literal a qué corresponde el logro (por ejemplo "Consigue 1.000.000 de puntos"), o algo relacionado (por ejemplo "Millonario").</li>
<li><strong>Puntos</strong>: Cada logro tiene asociado un número de puntos. Cuanto más complejo sera conseguir un logro, más puntos le deberíamos asignar. El número total de puntos que podrán sumar todos los logros de nuestro juego será como <strong>máximo de 1.000 puntos</strong>, por lo que debemos repartir los puntos con cuidado. Deberemos evitar asignar todos los puntos en la primera versión del juego. A partir del análisis de la forma de jugar de los usuarios seguramente se determine la conveniencia de añadir nuevos logros que se adapten a su dinámica de juego.</li>
<li><strong>Oculto</strong>: Podemos marcar los logros como ocultos para que el usuario no pueda verlos hasta que los haya conseguido (por ejemplo para evitar <em>spoilers</em> o crear <em>"huevos de pascua"</em>). Si el logro no es oculto, podremos ver si título en la lista de logros del juego, aunque todavía no lo hayamos obtenido, con lo que tendremos una indicación de qué tendríamos que hacer para conseguirlo.</li>
</ul>
<h4>Tipos de logros</h4>
<p>Antes de ver una serie de consejos para el diseño de logros, vamos a realizar una clasificación de tipos de logros que podemos incluir:</p>
<ul>
<li><strong>Logros de progreso</strong>: Logros que se conceden conforme progresamos en el juegos. Por ejemplo, <em>"Completa el nivel 1"</em>. Estos logros se obtendrán siempre que avancemos en el juego. No suponen un reto extra, pero son un buen incentivo para completar el juego.</li>
<li><strong>Retos extra</strong>: Suponen retos adicionales al mero avance en el juego. Por ejemplo, <em>"Completa un nivel sin recibir ningún daño"</em>. Estos logros aumentan la rejugabilidad y alargan la vida del juego.</li>
<li><strong>Logros ocultos</strong>: Los logros ocultos pueden ser de cualquiera de los tipos anteriores, pero el reto para obtener el logro no es visible hasta que no se haya obtenido. Esto es especialmente últil en el caso de logros de progreso, para evitar <em>spoilers</em>.  </li>
</ul>
<h4>Consejos para el diseño de logros</h4>
<p>El diseño de logros será una tarea que normalmente realizaremos en las fases finales del desarrollo del videojuego. Será importante tener muy bien definidas cuáles son las mecánicas y modos del juego y los contenidos que vamos a ofrecer. A continuación mostramos una serie de consejos para el diseño de logros:</p>
<ul>
<li>La lista de logros debe ser una buena <strong>representación del juego</strong>. Es decir, deberíamos tener logros que se consigan con cada modo de juego (por ejemplo, modo "Historia" y modo "Contrarreloj"), y con cada mecánica del juego (por ejemplo, matar enemigos, coger monedas, etc).</li>
<li>Deben existir logros para jugadores con <strong>diferentes grados de experiencia</strong>, desde logros que cualquier jugador pueda conseguir, hasta logros dirigidos a los jugadores más experimentados. Algunos juegos ofrecen como incentivo dar "logros fáciles", con lo cual pueden conseguir usuarios que desean ganar puntos de logros y así competir con sus amigos, pero esto no favorece la experiencia de juego.</li>
<li><strong>Utilizar logros ocultos para eventos inesperados</strong>, y conseguir así sorprender al jugador. Podemos hacer que estos logros aperezcan cuando se realizar algo que no está contemplado en la historia del juego, o cuando el jugador falla en algo. Por ejemplo, dar un logro cuando hemos muerto <em>N</em> veces, o cuando hemos recorrido un escenario en dirección contraria.</li>
<li><strong>No ofrecer todos los logros en la primera versión del juego</strong>. Es conveniente observar el comportamiento de los jugadores una vez el juego ha sido lanzado, y así poder añadir nuevos logros que se adapten a lo que los jugadores buscan en el juego. Además, podremos añadir logros para nuevos contenidos que podamos incorporar.</li>
</ul>
<h3 id="marcadores">Marcadores<a class="headerlink" href="#marcadores" title="Permanent link">&para;</a></h3>
<p>Los marcadores anotarán la <strong>puntuación máxima</strong> que hemos conseguido en el juego. Además, no sólo nos permitirán ver la puntuación que hemos obtenido, sino que podremos <strong>compararla</strong> con la de nuestros amigos y con la de otros jugadores de todo el mundo. Esta es una cuestión importante, ya que en un marcador mundial es muy difícil conseguir estar en puestos destacados, lo cual puede desanimar a la mayoría de jugadores. Sin embargo, si tenemos la opción de ver en el marcador sólo a nuestros amigos, es más probable que podamos "pelear" por los primeros puestos, y esto mejorará la <strong>retención</strong> de los usuarios, bien para conseguir llegar a ocupar las primeras posiciones, o para conservarlas.</p>
<p>Podremos tener <strong>varios marcadores</strong> en nuestro juego, con distintos tipos de datos (por ejemplo, <em>puntuaciones máximas</em>, <em>monedas recolectadas</em>, <em>mejores tiempos</em>, etc). Según el tipo de marcador, podremos indicar si la ordenación debe ser <strong>ascendente o descendente</strong>. Por ejemplo, para la <em>puntuación</em> debería ser descendente (la máxima encabezará la lista), pero para <em>mejores tiempos</em> deberíamos utilizar un marcador ascendente (el que menor tiempo haya hecho encabezará la lista).</p>
<p>Al igual que en el caso de los logros, la incorporación de los marcadores se suele hacer en las fases finales del desarrollo. Son algo independiente del juego, durante el transcurso de la partida no tendrán ningún efecto. Normalmente los veremos siempre en una pantalla independiente, ya fuera de la pantalla del juego, donde se mostrará la lista de las mejores puntuaciones.</p>
<h2 id="configuracion-de-logros-y-marcadores">Configuración de logros y marcadores<a class="headerlink" href="#configuracion-de-logros-y-marcadores" title="Permanent link">&para;</a></h2>
<p>Antes de poder utilizar logros y marcadores en nuestros juegos, deberemos configurarlos en la plataforma que vayamos a utilizar (Game Center, Google Play Games, etc). Normalmente, cada plataforma nos proporcionará una interfaz web con la que introducir los datos de los logros y marcadores que vayamos a utilizar en nuestro juego. Vamos a ver cómo hacer esto en las principales plataformas para móviles.</p>
<h3 id="game-center">Game Center<a class="headerlink" href="#game-center" title="Permanent link">&para;</a></h3>
<p>Comenzaremos viendo cómo dar de alta logros y marcadores en Game Center, la plataforma de videojuegos de Apple.</p>
<p>En primer lugar, deberemos crear un App ID para nuestra aplicación en la que esté activo el servicio Game Center. Para ello entramos en la aplicación <em>Certificates, Identifiers &amp; Profiles</em>, que encontraremos dentro de las aplicaciones disponibles para los desarrolladores del <em>Apple Developer Program</em>.</p>
<p><img alt="Crear App ID con Game Center activado" src="imagenes/social/gc_01_appid.png" /></p>
<p>Una vez creado el App ID, entraremos en <em>iTunes Connect</em> y crearemos la ficha de la aplicación para nuestro juego, utilizando el App ID definido en el paso anterior. Dentro de los datos de nuestra aplicación, veremos una pestaña <em>Prestaciones</em>, que contiene una sección <em>Game Center</em> donde podremos configurar logros y marcadores.</p>
<p><img alt="Ficha de Game Center en iTunes Connect" src="imagenes/social/gc_02_gamecenter.png" /></p>
<p>En la sección <em>Game Center</em> veremos una lista de logros y de marcadores existentes, y podremos crear nuevos logros y marcadores tal como veremos a continuación.</p>
<h4>Configuración de marcadores</h4>
<p>En la lista de marcadores veremos todos los marcadores creados hasta el momento (inicialmente estará vacía), y tendremos un botón <code>+</code> que nos permitirá añadir nuevos marcadores a la aplicación.</p>
<p><img alt="Listado de marcadores" src="imagenes/social/gc_03_marcadores.png" /></p>
<p>Al pulsar sobre el botón para añadir un marcador nos preguntará si queremos una <em>Clasificación individual</em> o <em>combinada</em>. Comenzaremos creando una <em>individual</em> (sólo podemos crear <em>combinadas</em> si ya contamos con clasificaciones <em>individuales</em> que podamos combinar).</p>
<p><img alt="Datos de un marcador" src="imagenes/social/gc_04_datos_marcador.png" /></p>
<p>Para la clasificación deberemos dar:</p>
<ul>
<li>Un nombre descriptivo (sólo para identificarlo en la interfaz de la aplicación de gestión)</li>
<li>Un identificador (con el que haremos referencia al marcador desde el código del juego)</li>
<li>Un tipo de datos y formato con el que mostrar las puntuaciones</li>
<li>Orden ascendente o descendente</li>
<li>Valores máximo y mínimo que puede alcanzar la puntuación.</li>
</ul>
<p>Además, en la parte inferior vemos que podemos localizar en varios idiomas el nombre y el formato de la puntuación. Esto es lo que el usuario del juego verá cuando se muestre la tabla de puntuaciones.</p>
<h4>Configuración de logros</h4>
<p>De forma similar al caso de los marcadores, veremos también un listado de logros existentes con la posibilidad de añadir nuevos logros mediante el botón <code>+</code>.</p>
<p><img alt="Listado de logros" src="imagenes/social/gc_05_logros.png" /></p>
<p>Al añadir un nuevo logro, se nos presentará una interfaz donde introducir sus datos.</p>
<p><img alt="Datos de un logro" src="imagenes/social/gc_06_datos_logro.png" />
Los datos que debemos proporcionar de los logros son:</p>
<ul>
<li>Nombre descriptivo (sólo interno para la aplicación de gestión)</li>
<li>Identificador (con el que haremos referencia a él desde el código)</li>
<li>Valor del logro (en total pueden sumar como máximo 1000 puntos)</li>
<li>Indicar si el logro es oculto o no</li>
<li>Indicar si el logro se puede conseguir más de una vez (hay logros que se pueden conseguir gradualmente, hasta alcanzar su 100%)</li>
</ul>
<p>En la parte inferior podemos localizar los textos de los logros a diferentes idiomas. Estos serán los textos que el usuario final verá cuando consigamos un logro o cuando se muestre el listado de logros del juego.</p>
<h3 id="google-play-games">Google Play Games<a class="headerlink" href="#google-play-games" title="Permanent link">&para;</a></h3>
<p>La plataforma Google Play Games (GPG) cuenta también con una interfaz similar para dar de alta logros y marcadores. Esta herramienta se encuentra integrada en la consola de desarrolladores de Android, en la sección <em>Servicios de juegos</em></p>
<p><img alt="Servicios de juegos en Google Play" src="imagenes/social/gpg_01_servicios.png" /></p>
<p>En dicha sección daremos de alta los juegos que queramos que puedan utilizar el servicio de GPG. Hay que remarcar que esto es algo totalmente independiente al alta de la aplicación Android (en <em>Tus aplicaciones</em>). En <em>Servicios de juegos</em> simplemente creamos la ficha para nuestro juego en GPG, a la que se podrá acceder desde Android, iOS, u otras plataformas. Podríamos incluso crear aquí juegos que no estuvieran disponibles en Android.</p>
<p>En caso de querer crear la ficha del juego en GPG para un juego Android, será recomendable subir antes un APK, aunque se trate de una versión <em>alpha</em>. Si contamos con dicho APK, muchos de los datos necesarios para crear nuestra ficha los podrá obtener de forma automática a partir de dicho fichero, simplificando notablemente el proceso.</p>
<p><img alt="Alta de un juego en Google Play Games" src="imagenes/social/gpg_02_alta.png" /></p>
<h4>Configuración de logros</h4>
<p>Una vez creado nuestro juego en los servicios de GPG, podremos acceder a su ficha y configurar logros y marcadores.</p>
<p>Entrando en la sección de <em>Logros</em> veremos el listado de logros existentes, y un botón <em>Añadir nuevo logro</em>. En la lista podemos observar que cada logro tiene un ID que deberemos utilizar para hacer referencia a él desde el código de nuestro juego. A diferencia de Game Center, estos IDs no los introducimos nosotros, sino que son autogenerados. Esto nos obligará a tener que definir en nuestro juego dos listas de identificadores de logros diferentes, una para cada plataforma.</p>
<p><img alt="Listado de logros" src="imagenes/social/gpg_03_logros.png" /></p>
<p>Si pulsamos sobre <em>Añadir nuevo logro</em>, o editamos uno de los existentes, veremos la pantalla para introducir datos del logro.</p>
<p><img alt="Datos de un logro" src="imagenes/social/gpg_04_datos_logro.png" /></p>
<p>Para cada logro nos pide:</p>
<ul>
<li>Nombre (el que se le mostrará al usuario)</li>
<li>Descripción</li>
<li>Icono</li>
<li>Indicar si es incremental (si podemos irlo consiguiendo a incrementos parciales)</li>
<li>Puntos (con un máximo total de 1000 puntos, al igual que Game Center).</li>
</ul>
<p>Estos datos pueden estar localizados a diferentes idiomas.</p>
<h4>Configuración de marcadores</h4>
<p>Dentro de la ficha de nuestro juego en GPG, también encontramos una sección <em>Marcadores</em> donde podemos configurar los marcadores del juego. Veremos un listado de los marcadores existentes, cada uno de ellos con su ID autogenerado asociado, al igual que en el caso de los logros. También tendremos un botón <em>Añadir nuevo marcador</em>.</p>
<p><img alt="Listado de marcadores" src="imagenes/social/gpg_05_scores.png" /></p>
<p>Pulsando sobre el botón <em>Añadir nuevo marcador</em> o yendo a editar un marcador existente, veremos la pantalla para introducir los datos del marcador.</p>
<p><img alt="Datos de un marcador" src="imagenes/social/gpg_06_datos_score.png" /></p>
<p>De cada marcador nos pide:</p>
<ul>
<li>Nombre (el que se le mostrará al usuario)</li>
<li>Tipo de datos y formato de las puntuaciones</li>
<li>Icono</li>
<li>Límites inferior y superior de las puntuaciones</li>
</ul>
<p>Al igual que en el caso anterior, podremos localizar la información de este formulario a diferentes idiomas.</p>
<h2 id="implementacion-de-logros-y-marcadores">Implementación de logros y marcadores<a class="headerlink" href="#implementacion-de-logros-y-marcadores" title="Permanent link">&para;</a></h2>
<p>Para implementar el soporte de logros y marcadores con Game Center contamos con el <em>framework</em> <code>GameKit</code> nativo de la plataforma iOS. Por otro lado, para añadir soporte para Google Play Games en Android necesitaremos incluir en nuestro proyecto los Google Play Services, mientras que para iOS contamos con un SDK específico que podemos añadir al proyecto. Sin embargo, no contamos con soporte <em>"de serie"</em> de logros y marcadores en Cocos2d-x. Para utilizar estas características con dicho motor, deberemos recurrir a las APIs nativas, o bien utilizar algún <em>plugin</em> de terceros que haga esto por nosotros. Un <em>plugin</em> que podemos utilizar para esta tarea es <a href="http://www.cocos2d-x.org/hub/156">GameSharing</a>. Éste nos proporciona una API C++ única que por debajo, dependiendo de la plataforma, utilizará Game Center (con <code>GameKit</code>) o Google Play Games (con los <em>Google Play Services</em>).</p>
<p>Como veremos a continuación, las diferentes APIs para gestión de logros y marcadores son muy parecidas. Las interfaces multiplataforma que podemos encontrar en motores como Unity o en el <em>plugin</em> GameSharing de Cocos2d-x se utilizan prácticamente de la misma forma que la API nativa <code>GameKit</code> de iOS.</p>
<h3 id="logros-y-marcadores-con-gamekit">Logros y marcadores con <code>GameKit</code><a class="headerlink" href="#logros-y-marcadores-con-gamekit" title="Permanent link">&para;</a></h3>
<p>Vamos a comenzar viendo cómo integrar Game Center mediante el <em>framework</em> nativo <code>GameKit</code> de iOS. Para utilizarlo simplemente tendremos que añadir dicho <em>framework</em> a nuestro proyecto de Xcode. Una vez añadido, podremos utilizar su API. Todas sus clases tienen el prefijo <code>GK</code>.</p>
<h4>Inicialización</h4>
<p>Para poder gestionar los logros y marcadores de nuestro juego en Game Center, lo primero que deberemos hacer es autenticar al usuario en dicha plataforma. Normalmente el usuario ya habrá configurado su cuenta de Game Center en el móvil, por lo que la autenticación será automática, sin tener que introducir <em>login</em> ni <em>password</em>. En caso de que no hubiera configurado una cuenta de Game Center previamente, podremos invitarle a que lo haga en este momento.</p>
<p><img alt="Autenticación en Game Center" src="imagenes/social/social-init.png" /></p>
<p>Para autenticar el usuario simplemente tendremos que obtener la instancia única (<em>singleton</em>) del objeto <code>GKLocalPlayer</code>, que hace referencia al usuario local configurado en el móvil, y asignar un bloque de código a su propiedad <code>authenticateHandler</code>. Con esto, la autenticación se hará de forma automática nada más establecer la propiedad, y volverá a autenticar al usuario cada vez que volvamos a abrir la aplicación.</p>
<div class="highlight"><pre><span></span><code><span class="bp">GKLocalPlayer</span> <span class="o">*</span><span class="n">player</span> <span class="o">=</span> <span class="p">[</span><span class="bp">GKLocalPlayer</span> <span class="n">localPlayer</span><span class="p">];</span>
<span class="n">player</span><span class="p">.</span><span class="n">authenticateHandler</span> <span class="o">=</span> <span class="o">^</span><span class="p">(</span><span class="bp">UIViewController</span> <span class="o">*</span><span class="n">viewController</span><span class="p">,</span> <span class="bp">NSError</span> <span class="o">*</span><span class="n">error</span><span class="p">){</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">viewController</span> <span class="o">!=</span> <span class="nb">nil</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="c1">// No hay usuario de GameCenter, presenta interfaz de autenticación</span>
        <span class="p">[</span><span class="nb">self</span> <span class="nl">presentViewController</span><span class="p">:</span><span class="n">viewController</span> <span class="nl">animated</span><span class="p">:</span><span class="nb">YES</span> <span class="nl">completion</span><span class="p">:</span><span class="o">^</span><span class="p">{}];</span>
    <span class="p">}</span> <span class="k">else</span> <span class="k">if</span><span class="p">(</span><span class="n">player</span><span class="p">.</span><span class="n">authenticated</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// Autenticación correcta</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
        <span class="c1">// Error en la autenticación</span>
    <span class="p">}</span>
<span class="p">};</span>    
</code></pre></div>

<p>Podemos observar que pueden ocurrir tres cosas:</p>
<ul>
<li>Que se proporcione un <code>viewController</code>. Quiere decir que no hay usuario configurado en el dispositivo, y el <code>viewController</code> proporcionado nos sirve para invitar al usuario a que lo configure. Deberemos presentarlo como controlador modal.</li>
<li>Que el usuario se autentique de forma correcta (se puede comprobar con la propiedad <code>player.authenticated</code>.</li>
<li>Que no se pueda autenticar al usuario. En este caso, debemos asegurarnos de que el uso de Game Center quede deshabilitado (no deberemos intenter publicar logros ni marcadores).</li>
</ul>
<p>Podremos consultar la propiedad <code>player.authenticated</code> en cualquier momento para saber si podemos utilizar las funciones de Game Center en el juego.</p>
<h4>Mostrar panel de logros y marcadores</h4>
<p>Una vez tenemos al usuario autenticado en Game Center, podemos mostrar una pantalla estándar de la plataforma donde se muestra la ficha de Game Center para nuestro juego. En dicha pantalla podremos ver los marcadores y los logros conseguidos por el usuario hasta el momento:</p>
<div class="highlight"><pre><span></span><code><span class="bp">GKGameCenterViewController</span><span class="o">*</span> <span class="n">gkController</span> <span class="o">=</span> <span class="p">[[</span><span class="bp">GKGameCenterViewController</span> <span class="n">alloc</span><span class="p">]</span> <span class="n">init</span><span class="p">];</span>
<span class="n">gkController</span><span class="p">.</span><span class="n">gameCenterDelegate</span> <span class="o">=</span> <span class="nb">self</span><span class="p">;</span>

<span class="p">[</span><span class="nb">self</span> <span class="nl">presentViewController</span><span class="p">:</span><span class="n">gkController</span> <span class="nl">animated</span><span class="p">:</span><span class="nb">YES</span> <span class="nl">completion</span><span class="p">:</span><span class="o">^</span><span class="p">{}];</span>
</code></pre></div>

<p><img alt="Listado de logros" src="imagenes/social/social-achievements.png" /></p>
<p>Si nuestro juego tiene varios marcadores, también podemos hacer que se muestre un marcador concreto estableciendo las siguientes propiedades del controlador anterior:</p>
<div class="highlight"><pre><span></span><code><span class="n">gkController</span><span class="p">.</span><span class="n">leaderboardIdentifier</span> <span class="o">=</span> <span class="n">ID_MARCADOR</span><span class="p">;</span>
<span class="n">gkController</span><span class="p">.</span><span class="n">leaderboardTimeScope</span> <span class="o">=</span> <span class="n">GKLeaderboardTimeScopeAllTime</span><span class="p">;</span>
</code></pre></div>

<p><img alt="Marcadores" src="imagenes/social/social-leaderboards.png" /></p>
<h4>Gestión de puntuaciones</h4>
<p>Cuando termine una partida, y nuestro jugador haya conseguido un nuevo récord, podemos subir dicha puntuación a su marcador global de Game Center. Deberemos crear un objeto <code>GKScore</code> con el identificador del marcador en el que publicar la puntuación, y asignar a su propiedad <code>value</code> el valor de la puntuación que queremos publicar:</p>
<div class="highlight"><pre><span></span><code><span class="bp">GKScore</span> <span class="o">*</span><span class="n">scoreReporter</span> <span class="o">=</span> <span class="p">[[</span><span class="bp">GKScore</span> <span class="n">alloc</span><span class="p">]</span> <span class="nl">initWithLeaderboardIdentifier</span><span class="p">:</span> <span class="n">ID_MARCADOR</span><span class="p">];</span>
<span class="n">scoreReporter</span><span class="p">.</span><span class="n">value</span> <span class="o">=</span> <span class="n">score</span><span class="p">;</span>
<span class="n">scoreReporter</span><span class="p">.</span><span class="n">context</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>

<span class="p">[</span><span class="bp">GKScore</span> <span class="nl">reportScores</span><span class="p">:</span><span class="l">@[</span><span class="n">scoreReporter</span><span class="l">]</span> <span class="nl">withCompletionHandler</span><span class="p">:</span><span class="o">^</span><span class="p">(</span><span class="bp">NSError</span> <span class="o">*</span><span class="n">error</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">error</span> <span class="o">!=</span> <span class="nb">nil</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// Error al enviar puntuacion</span>
        <span class="c1">// POSIBLE SOLUCION: Guardarlo en lista de pendientes de envio</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
        <span class="c1">// Puntuación enviada</span>
    <span class="p">}</span>
<span class="p">}];</span>    
</code></pre></div>

<p>Hay que destacar que la publicación podría fallar, por ejemplo si la red está inaccesible en este momento. Una posible forma de solucionarlo es almacenar en nuestra aplicación una lista de puntuaciones pendientes de subir, para así poder volver a intentarlo la próxima vez que entremos en el juego.</p>
<h4>Gestión de logros</h4>
<p>La publicación de logros conseguidos se hará de forma similar a la de las puntuaciones de los marcadores. En este caso, para desbloquear un logro debemos proporcionar su identificador. Además, dado que podemos tener logros incrementales, debemos indicar el porcentaje de logro que queremos desbloquear (<code>percentComplete</code>). Si queremos desbloquear el logro completo, le daremos a esta propiedad el valor <code>100</code>. También podemos utilizar la propiedad <code>showsCompletionBanner</code> para que automáticamente muestre el <em>banner</em> de desbloqueo de logro por defecto del sistema. Poniendo esta propiedad a <code>false</code> podríamos mostrar nuestro propio tipo de <em>banners</em>, si queremos personalizarlos.</p>
<div class="highlight"><pre><span></span><code><span class="bp">GKAchievement</span> <span class="o">*</span><span class="n">achievement</span> <span class="o">=</span> <span class="p">[[</span><span class="bp">GKAchievement</span> <span class="n">alloc</span><span class="p">]</span> <span class="nl">initWithIdentifier</span><span class="p">:</span> <span class="n">ID_LOGRO</span><span class="p">];</span>
<span class="k">if</span> <span class="p">(</span><span class="n">achievement</span><span class="p">){</span>
    <span class="n">achievement</span><span class="p">.</span><span class="n">percentComplete</span> <span class="o">=</span> <span class="mi">100</span><span class="p">;</span>
    <span class="n">achievement</span><span class="p">.</span><span class="n">showsCompletionBanner</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>
    <span class="p">[</span><span class="bp">GKAchievement</span> <span class="nl">reportAchievements</span><span class="p">:</span><span class="l">@[</span><span class="n">achievement</span><span class="l">]</span> <span class="nl">withCompletionHandler</span><span class="p">:</span><span class="o">^</span><span class="p">(</span><span class="bp">NSError</span> <span class="o">*</span><span class="n">error</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">error</span> <span class="o">!=</span> <span class="nb">nil</span><span class="p">)</span> <span class="p">{</span>
            <span class="c1">// Error al publicar logro</span>
            <span class="c1">// POSIBLE SOLUCION: Guardarlo en lista de pendientes de envio</span>
        <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
            <span class="c1">// Logro desbloqueado</span>
        <span class="p">}</span>
    <span class="p">}];</span>
<span class="p">}</span>
</code></pre></div>

<p>Al igual que en el caso de las puntuaciones, si obtenemos un error al desbloquear un logro, podemos guardarlo para intentarlo más adelante. Esto sólo debe hacerse como última instancia, ya que los logros deben ser desbloqueados de forma inmediata tras realizar la acción que los produce.</p>
<p>Es recomendable también sólo desbloquear logros cuando haya un progreso real del usuario en el juego, y evitar pedir desbloquear el mismo logro varias veces para evitar tráfico innecesario a través de la red. Para conseguir esto, podemos guardar una caché con los logros obtenidos, y así sólo intentar desbloquearlos cuando no estén en dicha caché. Para crearla podemos leer todos los logros obtenidos justo tras realizar la autenticación del usuario, mediante el método <code>loadAchievementsWithCompletionHandler</code> de la clase <code>GKAchievement</code>.</p>
<h3 id="logros-y-marcadores-con-gamesharing">Logros y marcadores con <code>GameSharing</code><a class="headerlink" href="#logros-y-marcadores-con-gamesharing" title="Permanent link">&para;</a></h3>
<p>En caso de tener un proyecto multiplataforma Cocos2d-x podemos realizar llamadas a las APIs nativas de Game Center y Google Play Games para gestionar sus logros y marcadores, pero convendrá que hagamos esto de forma que el código del juego siga siendo multiplataforma. Podemos utilizar para ello un <em>plugin</em> como <em>GameSharing</em> que se encarga de "esconder" las llamadas a las APIs nativas tras una fachada C++. Dicha fachada se encuentra en la clase <code>GameSharing</code>, que no es necesario que instanciemos, ya que todos sus métodos son estáticos. Incluiremos dicha clase (<code>GameSharing.cpp</code> y <code>GameSharing.h</code>) en el directorio <code>Classes</code> del proyecto.</p>
<h4>Configuración de <em>GameSharing</em></h4>
<p>Antes de poder utilizar dicha clase deberemos realizar una serie de tareas de configuración del proyecto. En el <strong>caso de iOS</strong> deberemos:</p>
<ul>
<li>Añadir el <em>framework</em> <code>GameKit</code> al proyecto Xcode.</li>
<li>Añadir las clases Objective-C nativas de la librería al proyecto Xcode (se encargan de hacer las llamadas nativas a GameCenter, y son utilizadas por la clase C++ <code>GameSharing</code>. Además, deberemos añadir la siguiente inicialización en la clase <code>AppDelegate</code>:</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="p">-</span> <span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nf">application:</span><span class="p">(</span><span class="bp">UIApplication</span> <span class="o">*</span><span class="p">)</span><span class="nv">application</span> <span class="nf">didFinishLaunchingWithOptions:</span><span class="p">(</span><span class="bp">NSDictionary</span> <span class="o">*</span><span class="p">)</span><span class="nv">launchOptions</span> <span class="p">{</span>    
    <span class="p">...</span>

    <span class="c1">// Init GameSharing</span>
    <span class="n">GameSharing</span><span class="o">::</span><span class="n">initGameSharing_iOS</span><span class="p">((</span><span class="k">__bridge</span> <span class="kt">void</span> <span class="o">*</span><span class="p">)</span><span class="n">_viewController</span><span class="p">);</span>

    <span class="k">return</span> <span class="nb">YES</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>

<ul>
<li>
<ul>
<li>Configurar la lista de logros y marcadores en un fichero <code>ios_ids.plist</code> dentro de los recursos del proyecto. Dicho fichero constará de un diccionario con dos claves: <code>Leaderboards</code> y <code>Achievements</code>. Cada una de ellas contendrá un <em>array</em> con los identificadores de los marcadores y logros disponibles.</li>
</ul>
</li>
</ul>
<p>En el <strong>caso de Android</strong> deberemos realizar una serie de acciones similares:</p>
<ul>
<li>Incluir en el proyecto Android (directorio <code>libs</code>) las librerías de <em>Google Play Services</em> y <code>android-support-v4</code>.</li>
<li>Incluir las clases Java nativas de la <em>GameSharing</em> en el proyecto nativo y también una serie de recursos necesarios en el directorio <code>res</code>. Deberemos editar algunos de estos elementos para adaptarlos a nuestra aplicación, siguiendo las instrucciones indicadas en la documentación de la librería <em>GameSharing</em>.</li>
<li>Añadimos a los ficheros de recursos dos recursos de tipo <code>string</code>: <code>leaderboards</code> y <code>achievements</code>, donde indicaremos los identificadores de marcadores y logros separados por <code>;</code>.</li>
</ul>
<p>Hemos de destacar que en ambos casos hemos especificado una lista de marcadores y logros en ficheros de configuración externos. En el código siempre haremos referencia a estos elementos mediante el índice de la posición que ocupan en estas listas. Por ello es importante que en ambas listas se incluyan los logros y marcadores en el mismo orden, para así poder utilizar el mismo código para Android e iOS.</p>
<h4>Uso de la API</h4>
<p>Una vez realizada la configuración necesaria, podremos utilizar la API de <em>GameSharing</em> en nuestro código de Cocos2d-x. En el caso de la versión iOS, deberemos inicializar la librería para autenticar al usuario local (esto no es necesario en Android):</p>
<div class="highlight"><pre><span></span><code><span class="n">GameSharing</span><span class="o">::</span><span class="n">initGameSharing</span><span class="p">();</span>
</code></pre></div>

<p>Podremos mostrar la pantalla estándar del sistema con los logros o marcadores del juego:</p>
<div class="highlight"><pre><span></span><code><span class="n">GameSharing</span><span class="o">::</span><span class="n">ShowAchievementsUI</span><span class="p">();</span>
<span class="n">GameSharing</span><span class="o">::</span><span class="n">ShowLeaderboards</span><span class="p">(</span><span class="n">indice</span><span class="p">);</span>
</code></pre></div>

<p>También podemos desbloquear un logro dado su índice en el <em>array</em> (siguiendo el orden en el que se especificaron en el fichero de configuración):</p>
<div class="highlight"><pre><span></span><code><span class="n">GameSharing</span><span class="o">::</span><span class="n">UnlockAchivement</span><span class="p">(</span><span class="n">indice</span><span class="p">);</span>
</code></pre></div>

<p>De la misma forma, podemos publicar la puntuación en uno de los marcadores (dado su índice en el <em>array</em>):</p>
<div class="highlight"><pre><span></span><code><span class="n">GameSharing</span><span class="o">::</span><span class="n">SubmitScore</span><span class="p">(</span><span class="n">score</span><span class="p">,</span><span class="n">indice</span><span class="p">);</span>
</code></pre></div>

<h2 id="referencias">Referencias<a class="headerlink" href="#referencias" title="Permanent link">&para;</a></h2>
<ul>
<li>Artículo sobre diseño de marcadores:</li>
</ul>
<p><a href="http://www.gamesparks.com/blog/leaderboards/">Leaderboards - The original social feature</a></p>
<ul>
<li>Articulos sobre diseño de logros:</li>
</ul>
<p><a href="http://www.gamasutra.com/blogs/GregMcClanahan/20091202/86035/Achievement_Design_101.php">Achievement Design 101</a>
<a href="http://www.gamasutra.com/view/feature/6360/the_cake_is_not_a_lie_how_to_.php?print=1">The Cake Is Not a Lie: How to Design Effective Achievements</a></p>
<ul>
<li>Artículo sobre juegos sociales:</li>
</ul>
<p><a href="http://www.gamasutra.com/view/feature/4009/the_social_network_game_boom.php">The social network game boom</a></p>
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid" aria-label="Pie">
        
          <a href="adaptacion_a_moviles.html" title="Adaptación a diferentes dispositivos" class="md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
            </div>
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Anterior
                </span>
                Adaptación a diferentes dispositivos
              </div>
            </div>
          </a>
        
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="assets/javascripts/vendor.d710d30a.min.js"></script>
      <script src="assets/javascripts/bundle.b39636ac.min.js"></script><script id="__lang" type="application/json">{"clipboard.copy": "Copiar al portapapeles", "clipboard.copied": "Copiado al portapapeles", "search.config.lang": "es", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.result.placeholder": "Teclee para comenzar b\u00fasqueda", "search.result.none": "No se encontraron documentos", "search.result.one": "1 documento encontrado", "search.result.other": "# documentos encontrados"}</script>
      
      <script>
        app = initialize({
          base: ".",
          features: [],
          search: Object.assign({
            worker: "assets/javascripts/worker/search.a68abb33.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML"></script>
      
    
  </body>
</html>