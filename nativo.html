
<!DOCTYPE doctype html>

<html class="no-js" lang="es">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width,initial-scale=1" name="viewport"/>
<meta content="ie=edge" http-equiv="x-ua-compatible"/>
<meta content="Copiar al portapapeles" name="lang:clipboard.copy"/>
<meta content="Copiado al portapapeles" name="lang:clipboard.copied"/>
<meta content="en" name="lang:search.language"/>
<meta content="True" name="lang:search.pipeline.stopwords"/>
<meta content="True" name="lang:search.pipeline.trimmer"/>
<meta content="No se encontraron documentos" name="lang:search.result.none"/>
<meta content="1 documento encontrado" name="lang:search.result.one"/>
<meta content="# documentos encontrados" name="lang:search.result.other"/>
<meta content="[\s\-]+" name="lang:search.tokenizer"/>
<link href="assets/images/favicon.png" rel="shortcut icon"/>
<meta content="mkdocs-1.0.4, mkdocs-material-4.4.0" name="generator"/>
<title>Tecnologías nativas - VPDM - Cocos2d-x</title>
<link href="assets/stylesheets/application.0284f74d.css" rel="stylesheet"/>
<link href="assets/stylesheets/application-palette.01803549.css" rel="stylesheet"/>
<meta content="#009688" name="theme-color"/>
<script src="assets/javascripts/modernizr.74668098.js"></script>
<link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/>
<link href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono&amp;display=fallback" rel="stylesheet"/>
<style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
<link href="assets/fonts/material-icons.css" rel="stylesheet"/>
</head>
<body data-md-color-accent="teal" data-md-color-primary="teal" dir="ltr">
<svg class="md-svg">
<defs>
</defs>
</svg>
<input autocomplete="off" class="md-toggle" data-md-toggle="drawer" id="__drawer" type="checkbox"/>
<input autocomplete="off" class="md-toggle" data-md-toggle="search" id="__search" type="checkbox"/>
<label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
<a class="md-skip" href="#tecnologias-nativas-para-el-desarrollo-de-videojuegos" tabindex="1">
        Saltar a contenido
      </a>
<header class="md-header" data-md-component="header">
<nav class="md-header-nav md-grid">
<div class="md-flex">
<div class="md-flex__cell md-flex__cell--shrink">
<a class="md-header-nav__button md-logo" href="index.html" title="VPDM - Cocos2d-x">
<img height="24" src="imagenes/logo.png" width="24"/>
</a>
</div>
<div class="md-flex__cell md-flex__cell--shrink">
<label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
</div>
<div class="md-flex__cell md-flex__cell--stretch">
<div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
<span class="md-header-nav__topic">
              VPDM - Cocos2d-x
            </span>
<span class="md-header-nav__topic">
              
                Tecnologías nativas
              
            </span>
</div>
</div>
<div class="md-flex__cell md-flex__cell--shrink">
<label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
<div class="md-search" data-md-component="search" role="dialog">
<label class="md-search__overlay" for="__search"></label>
<div class="md-search__inner" role="search">
<form class="md-search__form" name="search">
<input autocapitalize="off" autocomplete="off" autocorrect="off" class="md-search__input" data-md-component="query" data-md-state="active" name="query" placeholder="Búsqueda" spellcheck="false" type="text"/>
<label class="md-icon md-search__icon" for="__search"></label>
<button class="md-icon md-search__icon" data-md-component="reset" tabindex="-1" type="reset">
        
      </button>
</form>
<div class="md-search__output">
<div class="md-search__scrollwrap" data-md-scrollfix="">
<div class="md-search-result" data-md-component="result">
<div class="md-search-result__meta">
            Teclee para comenzar búsqueda
          </div>
<ol class="md-search-result__list"></ol>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</nav>
</header>
<div class="md-container">
<main class="md-main">
<div class="md-main__inner md-grid" data-md-component="container">
<div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav class="md-nav md-nav--primary" data-md-level="0">
<label class="md-nav__title md-nav__title--site" for="__drawer">
<a class="md-nav__button md-logo" href="index.html" title="VPDM - Cocos2d-x">
<img height="48" src="imagenes/logo.png" width="48"/>
</a>
    VPDM - Cocos2d-x
  </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="index.html" title="Introducción">
      Introducción
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="videojuegos_para_moviles.html" title="Videojuegos para móviles">
      Videojuegos para móviles
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="introduccion_a_cocos2d-x.html" title="El motor Cocos2d-x">
      El motor Cocos2d-x
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="sprites_e_interaccion.html" title="Sprites y colisiones">
      Sprites y colisiones
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="escenario_y_fondos.html" title="Escenario y fondos">
      Escenario y fondos
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="motor_de_fisicas.html" title="Motor de físicas">
      Motor de físicas
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="mandos.html" title="Controles del videojuego">
      Controles del videojuego
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="adaptacion_a_moviles.html" title="Adaptación a móviles">
      Adaptación a móviles
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="redes_sociales.html" title="Servicios y redes sociales para juegos">
      Servicios y redes sociales para juegos
    </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="unity.html" title="Motor Unity">
      Motor Unity
    </a>
</li>
<li class="md-nav__item md-nav__item--active">
<input class="md-toggle md-nav__toggle" data-md-toggle="toc" id="__toc" type="checkbox"/>
<label class="md-nav__link md-nav__link--active" for="__toc">
        Tecnologías nativas
      </label>
<a class="md-nav__link md-nav__link--active" href="nativo.html" title="Tecnologías nativas">
      Tecnologías nativas
    </a>
<nav class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">Tabla de contenidos</label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#desarrollo-de-juegos-con-spritekit" title="Desarrollo de juegos con SpriteKit">
    Desarrollo de juegos con SpriteKit
  </a>
<nav class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#la-escena-de-spritekit" title="La escena de SpriteKit">
    La escena de SpriteKit
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#nodos-de-la-escena" title="Nodos de la escena">
    Nodos de la escena
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#acciones" title="Acciones">
    Acciones
  </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">Tabla de contenidos</label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#desarrollo-de-juegos-con-spritekit" title="Desarrollo de juegos con SpriteKit">
    Desarrollo de juegos con SpriteKit
  </a>
<nav class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#la-escena-de-spritekit" title="La escena de SpriteKit">
    La escena de SpriteKit
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#nodos-de-la-escena" title="Nodos de la escena">
    Nodos de la escena
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#acciones" title="Acciones">
    Acciones
  </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-content">
<article class="md-content__inner md-typeset"><a class="md-icon md-content__icon" download href="pdf/combined.pdf" title="PDF Export"></a>
<h1 id="tecnologias-nativas-para-el-desarrollo-de-videojuegos">Tecnologías nativas para el desarrollo de videojuegos<a class="headerlink" href="#tecnologias-nativas-para-el-desarrollo-de-videojuegos" title="Permanent link">¶</a></h1>
<p>Aunque el uso de motores multiplataforma nos aporta una gran cantidad de ventajas, es algunos casos nos podría interesar desarrollar videojuegos utilizando las tecnologías nativas de la plataforma. Una posible razón para hacer esto es la de conseguir reducir el tamaño de la aplicación lo máximo posible, lo cual puede ser conveniente en juegos sencillos que no necesiten un motor complejo.</p>
<p>La tecnología nativa para desarrollo de videojuegos que podemos encontrar en las principales plataformas móviles es <strong>OpenGL ES</strong>. Se trata de una librería de bajo nivel, sobre la que tendremos que construir nuestro propio motor adaptado a las necesidades de nuestro videojuego. </p>
<p>En el momento de la escritura de este texto, OpenGL ES es la única opción nativa en el caso de <strong>Android</strong>, recomendándose utilizar el <strong>NDK</strong> para la implementación de nuestro propio motor del videojuego, y así poderlo optimizar al máximo.</p>
<p>En <strong>Windows Phone</strong> encontraremos también la API nativa <strong>XNA</strong>. Contamos con el entorno XNA Game Studio dedicado al desarrollo de videojuegos en la plataforma de Microsoft.</p>
<p>Sin embargo, la plataforma que mayor número de opciones nativas nos ofrece es la de Apple. En <strong>iOS</strong>, además de <strong>OpenGL ES</strong>, encontramos <strong>Metal</strong>, una librería gráfica similar a bajo nivel optimizada para esta plataforma. A parte de las opciones a bajo nivel, tenemos también dos librerías de alto nivel para el desarrollo de videojuegos 2D y 3D respectivamente: <strong>SpriteKit</strong> y <strong>SceneKit</strong>. Cuando desde Xcode creamos un proyecto de tipo <em>Game</em> nativo, nos preguntará cuál de las anteriores librerías queremos utilizar como base.</p>
<p><img alt='"Creacion de un proyecto de tipo _Game_' src="imagenes/nativo/ios-game.png">
<img alt='"Selección de librería para videojuegos"' src="imagenes/nativo/ios-apis.png"/></img></p>
<p>Vamos a centrarnos en las tecnologías de alto nivel: <strong>SpriteKit</strong> y <strong>SceneKit</strong>. Con ellas dispondremos además herramientas visuales en el entorno para crear las escenas del videojuego. Conviene destacar también que estas tecnologías presentan abundantes similitudes con Cocos2d-x y Unity respectivamente.</p>
<h2 id="desarrollo-de-juegos-con-spritekit">Desarrollo de juegos con SpriteKit<a class="headerlink" href="#desarrollo-de-juegos-con-spritekit" title="Permanent link">¶</a></h2>
<p><strong>SpriteKit</strong> es un <em>framework</em> nativo de la plataforma iOS destinado al desarrollo de aplicaciones que muestren cualquier tipo de gráficos 2D animados, como es el caso de los videojuegos. Todas las clases de este <em>framework</em> tienen el prefijo <code>SK</code>, y se encuentra disponible a partir de iOS 7.</p>
<p>Su API es muy parecida a la del motor de videojuegos Cocos2d-x, por lo que la transición entre estas tecnologías será muy sencilla. </p>
<h3 id="la-escena-de-spritekit">La escena de SpriteKit<a class="headerlink" href="#la-escena-de-spritekit" title="Permanent link">¶</a></h3>
<p>Al igual que en dicho motor, utiliza una organización <strong>jerárquica</strong> de los elementos <strong>escena</strong>, es decir, todos los elementos de la escena son <strong>nodos</strong> que se organizan en forma de de árbol. </p>
<p>Tendremos una escena para cada estado (pantalla) del juego (menú principal, opciones, partida, etc). Para crear una escena normalmente crearemos una clase que herede de <code>SKScene</code>, por ejemplo:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2
3
4
5</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="cp">#import &lt;SpriteKit/SpriteKit.h&gt;</span>

<span class="k">@interface</span> <span class="nc">MainMenuScene</span> : <span class="bp">SKScene</span>

<span class="k">@end</span>
</pre></div>
</td></tr></table>
<p>Para poder mostrar esa escena necesitaremos previamente contar con una vista de tipo <code>SKView</code>. Por ejemplo, podemos introducir una vista de este tipo dentro de nuestro controlador en el <em>storyboard</em>. Al cargar nuestro controlador podemos obtener dicha vista y cargar en ella la escena principal:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="p">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">viewDidLoad</span>
<span class="p">{</span>
    <span class="p">[</span><span class="nb">super</span> <span class="n">viewDidLoad</span><span class="p">];</span>

    <span class="c1">// Obtenemos la vista del juego (suponemos que es la vista raíz de nuestro controlador).</span>
    <span class="bp">SKView</span> <span class="o">*</span> <span class="n">skView</span> <span class="o">=</span> <span class="p">(</span><span class="bp">SKView</span> <span class="o">*</span><span class="p">)</span><span class="nb">self</span><span class="p">.</span><span class="n">view</span><span class="p">;</span>

    <span class="c1">// Creamos la escena.</span>
    <span class="n">MainMenuScene</span> <span class="o">*</span><span class="n">scene</span> <span class="o">=</span> <span class="p">[</span><span class="n">MainMenuScene</span> <span class="nl">nodeWithFileNamed</span><span class="p">:</span><span class="s">@"MainMenuScene"</span><span class="p">];</span>

    <span class="c1">// Mostramos la escena en la vista.</span>
    <span class="p">[</span><span class="n">skView</span> <span class="nl">presentScene</span><span class="p">:</span><span class="n">scene</span><span class="p">];</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>
<p>Hemos de destacar que el constructor de la escena toma como parámetro el nombre de un fichero. El fichero que deberemos pasarle es un fichero de escena, con extensión <code>.sks</code> (<em>Scene Kit Scene</em>) que puede contener los elementos de la escena (<em>sprites</em>, etiquetas de texto, cámara, luces, etc). </p>
<p>Podemos crear este fichero desde Xcode, con <em>File &gt; New &gt; File ... &gt; iOS &gt; Resource &gt; SpriteKit Scene</em>:</p>
<p><img alt='"Creación de una escena"' src="imagenes/nativo/sk-scene.png"/></p>
<p>Podemos dejar esta escena vacía y crear su contenido de forma programada. Vamos a hacerlo así de momento.</p>
<p>La clase escena tiene un método <code>-(void)didMoveToView:(SKView *)view</code> que se invocará cuando la escena se pase a ejecutar en la vista del juego. Podemos aprovechar este método para crear de forma programada el contenido de la escena. Este contenido se definirá como un árbol de nodos (objetos de tipo <code>SKNode</code> o de alguna de sus subclases).</p>
<h3 id="nodos-de-la-escena">Nodos de la escena<a class="headerlink" href="#nodos-de-la-escena" title="Permanent link">¶</a></h3>
<p>La escena de SpriteKit se define como un árbol de nodos, todos ellos de tipo <code>SKNode</code> o alguna de sus subclases. Destacamos los siguiente tipos de nodos:</p>
<ul>
<li><code>SKNode</code>: Clase de la que heredan todos los nodos. Podemos instanciarla directamente y añadir el nodo a la escena. Este tipo de nodos no mostrarán nada en la escena, pero son útiles para agrupar otros nodos en el árbol de la escena y poder moverlos de forma conjunta.</li>
<li><code>SKLabelNode</code>: Subclase de <code>SKNode</code> que mostrará una etiqueta de texto en la escena.</li>
<li><code>SKSpriteNode</code>: Subclase de <code>SKNode</code> que mostrará un <em>sprite</em> en la escena. </li>
<li></li>
</ul>
<p>Los nodos genéricos se instancian mediante el método factoría <code>node</code>:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="bp">SKNode</span> <span class="o">*</span><span class="n">miNodo</span> <span class="o">=</span> <span class="p">[</span><span class="bp">SKNode</span> <span class="n">node</span><span class="p">];</span>
</pre></div>
</td></tr></table>
<p>Podremos cambiar la posición (x,y) de todos los nodos en la escena, así como su orden z, que determinará qué nodos se muestran por delante de otros:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="n">miNodo</span><span class="p">.</span><span class="n">position</span> <span class="o">=</span> <span class="n">CGPointMake</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="mi">100</span><span class="p">);</span>
<span class="n">miNodo</span><span class="p">.</span><span class="n">zPosition</span> <span class="o">=</span> <span class="mi">5</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<p>También podremos cambiar su rotación y su escala (x,y):</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2
3</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="n">miNodo</span><span class="p">.</span><span class="n">zRotation</span> <span class="o">=</span> <span class="mi">90</span><span class="p">;</span>
<span class="n">miNodo</span><span class="p">.</span><span class="n">xScale</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span>
<span class="n">miNodo</span><span class="p">.</span><span class="n">yScale</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<blockquote>
<p>Es de especial interés la posibilidad de hacer un escalado de -1, para así crear un efecto "espejo".</p>
</blockquote>
<p>Además de estas propiedades, otra característica importante de los nodos es su método <code>addChild:</code>, que nos permite añadir otro nodo como hijo:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="bp">SKNode</span> <span class="o">*</span><span class="n">miGrupo</span> <span class="o">=</span> <span class="p">[</span><span class="bp">SKNode</span> <span class="n">node</span><span class="p">];</span>
<span class="p">[</span><span class="n">miGrupo</span> <span class="nl">addChild</span><span class="p">:</span> <span class="n">miNodo</span><span class="p">];</span>
</pre></div>
</td></tr></table>
<blockquote>
<p>El agrupamiento jerárquico de nodos es importante porque nos permitirá por ejemplo mover de forma conjunta todo un grupo de nodos cambiando únicamente la posición del nodo padre.</p>
</blockquote>
<p>Encontraremos también métodos y propiedades para conocer quién es el padre de un nodo, eliminar un hijo de un nodo, o moverlo a otro nodo padre, entre otras funciones.</p>
<h4>Etiqueta de texto</h4>
<p>Un tipo de nodo fundamental es la etiqueta de texto (<code>SKLabelNode</code>) que nos permitirá mostrar texto en la escena. Este tipo de nodo se puede crear a partir de la fuente a utilizar:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="bp">SKLabelNode</span> <span class="o">*</span><span class="n">miEtiqueta</span> <span class="o">=</span> <span class="p">[</span><span class="bp">SKLabelNode</span> <span class="nl">labelNodeWithFontNamed</span><span class="p">:</span><span class="s">@"Chalkduster"</span><span class="p">];</span>
</pre></div>
</td></tr></table>
<p>A parte de las propiedades generales de los nodos, la propiedad más importante de este tipo de nodo es <code>text</code>, que nos permite especificar el texto a mostrar por la etiqueta:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="n">miEtiqueta</span><span class="p">.</span><span class="n">text</span> <span class="o">=</span> <span class="s">@"Super Mobile Game"</span><span class="p">;</span>
</pre></div>
</td></tr></table>
<p>Este tipo de nodos nos permitirá cambiar además el tipo de fuente, su color, o la alineación del texto.</p>
<h4>Sprites</h4>
<p>El tipo de nodo más importante en un videojuego es el <em>sprite</em>, que representa aquellas entidades que aparecen en la escena (personajes, objetos, etc), y que se muestran como una imagen o una animación. Podemos crear un <em>sprite</em> a partir del nombre de la imagen que queremos que muestre:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="bp">SKSpriteNode</span> <span class="o">*</span><span class="n">miSprite</span> <span class="o">=</span> <span class="p">[</span><span class="bp">SKSpriteNode</span> <span class="nl">spriteNodeWithImageNamed</span><span class="p">:</span> <span class="s">@"mario"</span><span class="p">];</span>
</pre></div>
</td></tr></table>
<p>Dado que el <em>sprite</em> muestra una imagen en la escena, una propiedad importante será <code>size</code>, que nos indicará el tamaño del <em>sprite</em> en puntos. Esto será importante porque se tendrá en cuenta también para el cálculo de colisiones con otros <em>sprites</em> de la escena. </p>
<p>Además, tambien tiene una propiedad <code>anchorPoint</code>, cuyo valor por defecto es <code>(0.5, 0.5)</code>, y que siempre tomará valores entre <code>(0.0, 0.0)</code> y <code>(1.0, 1.0)</code>. Esta propiedad nos indicará cómo posicionar el <em>sprite</em> en la escena cuando modifiquemos su propiedad <code>position</code>. Se trata de las coordenadas locales dentro de la imagen del <em>sprite</em> que se situarán en la posición indicada por <code>position</code>, siendo:</p>
<ul>
<li><code>(0.0, 0.0)</code> es la esquina inferior izquierda del <em>sprite</em>.</li>
<li><code>(0.5, 0.5)</code> es el centro del <em>sprite</em>.</li>
<li><code>(1.0, 1.0)</code> es la esquina superior derecha del <em>sprite</em>.</li>
</ul>
<h3 id="acciones">Acciones<a class="headerlink" href="#acciones" title="Permanent link">¶</a></h3>
<p>Los nodos de la escena nos permiten ejecutar acciones, que modifican las propiedades del nodos (como su posición o rotación) a lo largo del tiempo. Estas acciones se definen como objetos de la clase <code>SKAction</code>.</p>
<p>Dentro de <code>SKAction</code> encontramos númerosos métodos factoría para crear diferentes tipos de acciones. Por ejemplo, tenemos acciones para mover un nodo a una posición o rotarlo a un cierto ángulo:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2
3
4</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="bp">SKAction</span> <span class="o">*</span><span class="n">accionMoverFinal</span> <span class="o">=</span> <span class="p">[</span><span class="bp">SKAction</span> <span class="nl">moveTo</span><span class="p">:</span><span class="n">CGPointMake</span><span class="p">(</span><span class="mi">200</span><span class="p">,</span><span class="mi">200</span><span class="p">)</span> <span class="nl">duration</span><span class="p">:</span><span class="mf">2.0</span><span class="p">];</span>
<span class="bp">SKAction</span> <span class="o">*</span><span class="n">accionRotarFinal</span> <span class="o">=</span> <span class="p">[</span><span class="bp">SKAction</span> <span class="nl">rotateToAngle</span><span class="p">:</span><span class="mf">3.14f</span> <span class="nl">duration</span><span class="p">:</span> <span class="mf">1.0</span><span class="p">];</span>
<span class="bp">SKAction</span> <span class="o">*</span><span class="n">accionMoverInicio</span> <span class="o">=</span> <span class="p">[</span><span class="bp">SKAction</span> <span class="nl">moveTo</span><span class="p">:</span><span class="n">CGPointMake</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span><span class="mi">100</span><span class="p">)</span> <span class="nl">duration</span><span class="p">:</span><span class="mf">2.0</span><span class="p">];</span>
<span class="bp">SKAction</span> <span class="o">*</span><span class="n">accionRotarInicio</span> <span class="o">=</span> <span class="p">[</span><span class="bp">SKAction</span> <span class="nl">rotateToAngle</span><span class="p">:</span><span class="mf">0.0f</span> <span class="nl">duration</span><span class="p">:</span> <span class="mf">1.0</span><span class="p">];</span>
</pre></div>
</td></tr></table>
<p>En estas acciones se indica la posición o ángulo destino a la que se moverá el nodo, y el tiempo que tardará en hacerlo (en segundo).</p>
<p>Existen también otros muchos tipos de acciones para modificar otras propiedades como la escala, la textura, el color o el control de audio.</p>
<p>También encontramos acciones que nos permiten combinar otras acciones, o repetirlas:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="bp">SKAction</span> <span class="o">*</span><span class="n">accionSecuencia</span> <span class="o">=</span> <span class="p">[</span><span class="bp">SKAction</span> <span class="nl">sequence</span><span class="p">:</span> <span class="l">@{</span><span class="n">accionMoverFinal</span><span class="p">,</span> <span class="n">accionRotarFinal</span><span class="p">,</span> <span class="n">accionMoverInicio</span><span class="p">,</span> <span class="n">accionRotarInicio</span><span class="l">}</span><span class="p">];</span>
<span class="bp">SKAction</span> <span class="o">*</span><span class="n">accionRepite</span> <span class="o">=</span> <span class="p">[</span><span class="bp">SKAction</span> <span class="nl">repeatActionForever</span><span class="p">:</span><span class="n">accionSecuencia</span><span class="p">];</span>
</pre></div>
</td></tr></table>
<p>Con esta última acción podemos especificar por ejemplo el movimiento de "patrulla" de un enemigo, que se moverá contínuamente entre los puntos <code>(100, 100)</code> y <code>(200, 200)</code>.</p>
<p>Podemos ejecutar cualquiera de las acciones anteriores sobre cualquier nodo, utilizando el método <code>runAction:</code> de la clase <code>SKNode</code>:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="p">[</span><span class="n">miNodo</span> <span class="nl">runAction</span><span class="p">:</span> <span class="n">accionRepite</span><span class="p">];</span>
</pre></div>
</td></tr></table>
<p>De esta forma dicho nodo reproducirá la conducta especificada por la acción. </p>
<p>Podremos parar todas las acciones de un nodo con <code>removeAllActions</code>. También podemos añadir una acción con una clave (<em>key</em>) que posteriormente nos permitirá parar únicamente dicha acción, o podemos ejecutar una acción proporcionando un bloque de código que se ejecutará cuando la acción se complete.</p>
</article>
</div>
</div>
</main>
<footer class="md-footer">
<div class="md-footer-nav">
<nav class="md-footer-nav__inner md-grid">
<a class="md-flex md-footer-nav__link md-footer-nav__link--prev" href="unity.html" rel="prev" title="Motor Unity">
<div class="md-flex__cell md-flex__cell--shrink">
<i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
</div>
<div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
<span class="md-flex__ellipsis">
<span class="md-footer-nav__direction">
                  Anterior
                </span>
                Motor Unity
              </span>
</div>
</a>
</nav>
</div>
<div class="md-footer-meta md-typeset">
<div class="md-footer-meta__inner md-grid">
<div class="md-footer-copyright">
        
        powered by
        <a href="https://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
</div>
</div>
</div>
</footer>
</div>
<script src="assets/javascripts/application.245445c6.js"></script>
<script>app.initialize({version:"1.0.4",url:{base:"."}})</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML"></script>
</body>
</html>